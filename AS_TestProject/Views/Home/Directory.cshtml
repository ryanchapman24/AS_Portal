@using Microsoft.AspNet.Identity;
    <div class="col-lg-12 mt">
        <div class="row content-panel" style="padding-left: 20px; padding-right: 20px">
            <div class="widget widget-table">
                <div class="widget-header">
                    <h3 style="color: #29AAE3"><i class="fa fa-users"></i> Directory</h3>
                </div>
                <div class="widget-content">
                    <div class="table-responsive">
                        <table id="datatable-basic-scrolling" class="table table-sorting table-hover datatable directable">
                            <thead>
                                <tr>
                                    <th>Employee ID</th>
                                    <th>Last</th>
                                    <th>First</th>
                                    <th style="width: 10%">Title</th>
                                    <th>Site</th>
                                    <th style="width: 15%">Address</th>
                                    <th style="width: 10%">Email</th>
                                    <th>Phone</th>
                                    <th>Active?</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var employee in ViewBag.Directory)
                                {
                                <tr>
                                    <td>@employee.EmployeeID</td>
                                    <td><strong style="color: #29AAE3">@employee.LastName</strong></td>
                                    <td><strong style="color: #29AAE3">@employee.FirstName</strong></td>
                                    <td>@employee.Position.PositionName</td>
                                    <td>@employee.Site.SiteName</td>
                                    <td>
                                        @employee.AddressLine1 @employee.AddressLine2<br />
                                        @employee.City, @employee.State @employee.ZipCode
                                    </td>
                                    <td>@employee.EmailAddress</td>
                                    <td style="font-size: 10px">
                                        <i class="fa fa-phone"></i> @employee.HomePhone<br />
                                        <i class="fa fa-mobile"></i> @employee.CellPhone
                                    </td>
                                    @if (employee.IsActive == true)
                                        {
                                        <td><i class="fa fa-thumbs-up" style="color: limegreen; font-size: 16px"></i></td>
                                        }
                                        else
                                        {
                                        <td><i class="fa fa-thumbs-down" style="color: red; font-size: 16px"></i></td>
                                        }
                                    <td>
                                        @if (User.IsInRole("Payroll"))
                                        {
                                        <a href="@Url.Action("Index","Payroll", new { id = employee.EmployeeID })"><i class="fa fa-clock-o" style="margin-right: 3px; font-size: 16px"></i> Manage</a>
                                        }
                                    </td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(document).ready(function () {
            $('#direct').addClass("active");

            $('.directable').DataTable({
                "iDisplayLength": 50,
                "aaSorting": [],
                "aLengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]]
            });
        });
    </script>
}